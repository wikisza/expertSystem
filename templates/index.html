<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rekomendacje</title>
</head>

<body>
    <h1>Wybierz swoje preferencje</h1>
    <form action="/recommend" method="post">
        <label for="preferowanyTyp">Typ:</label>
        <select name="preferowanyTyp" id="preferowanyTyp">
            <option value="Film">Film</option>
            <option value="Serial">Serial</option>
        </select>
        <br>
        <label for="gatunek">Gatunek:</label>
        <select name="gatunek" id="gatunek">
            <option value="Akcja">Akcja</option>
            <option value="SciFi">Sci-Fi</option>
            <option value="Fantasy">Fantasy</option>
            <option value="Horror">Horror</option>
            <option value="Komedia">Komedia</option>
            <option value="Dramat">Dramat</option>
            <option value="Thiller">Thiller</option>
            <option value="Animacja">Animacja</option>
            <option value="Romans">Romans</option>
            <option value="Kryminal">Kryminal</option>
        </select>
        <br>
        <label for="premiera">Premiera:</label>
        <select name="premiera" id="premiera"></select>
        <br>

        <!-- Pole Opis ukryte na starcie -->
        <div id="opisContainer" style="display: none;">
            <label for="opis">Opis:</label>
            <select name="opis" id="opis"></select>
        </div>

        <br><br>
        <button type="submit">Zobacz rekomendacje</button>
    </form>

    <script>
        let movies = [
            {
                'id': 1,
                'typ': 'dua',
                'title': 'sraka',
                'description': 'piękne'
            }
        ];
        document.addEventListener('DOMContentLoaded', function () {
            const typSelect = document.getElementById('preferowanyTyp');
            const gatunekSelect = document.getElementById('gatunek');
            const premieraSelect = document.getElementById('premiera');
            const opisSelect = document.getElementById('opis');
            const opisContainer = document.getElementById('opisContainer');

            // Funkcja do aktualizacji opcji "Premiera"
            function updatePremieraOptions() {
                const typ = typSelect.value;
                const gatunek = gatunekSelect.value;

                // Wyczyszczenie starych opcji
                premieraSelect.innerHTML = '';

                if (typ === 'Serial' && gatunek === 'Akcja') {
                    const option1 = document.createElement('option');
                    option1.value = 'Przed';
                    option1.textContent = 'Przed 2010';
                    premieraSelect.appendChild(option1);

                    const option2 = document.createElement('option');
                    option2.value = 'Po';
                    option2.textContent = 'Po 2010';
                    premieraSelect.appendChild(option2);
                }
                else if (typ === 'Serial' && (gatunek === 'SciFi' || gatunek === 'Fantasy')) {
                    const option1 = document.createElement('option');
                    option1.value = 'Przed';
                    option1.textContent = 'Przed 2015';
                    premieraSelect.appendChild(option1);

                    const option2 = document.createElement('option');
                    option2.value = 'Po';
                    option2.textContent = 'Po 2015';
                    premieraSelect.appendChild(option2);
                }
                else {
                    const option = document.createElement('option');
                    option.value = '';
                    option.textContent = 'Brak dostępnych opcji';
                    premieraSelect.appendChild(option);
                }

                // Sprawdź, czy opis ma być pokazany
                updateOpisOptions();
            }

            // Funkcja do aktualizacji opcji "Opis"
            function updateOpisOptions() {
                const typ = typSelect.value;
                const gatunek = gatunekSelect.value;
                const premiera = premieraSelect.value;

                // Sprawdź warunki
                if (typ === 'Serial' && gatunek === 'Akcja' && premiera === 'Po') {
                    // Pokaż kontener i dodaj opcje
                    opisContainer.style.display = 'block';
                    opisSelect.innerHTML = '';

                    const opis1 = document.createElement('option');
                    opis1.value = 'Zemsta, brutalna przemoc, moralne dylematy antybohatera';
                    opis1.textContent = 'Zemsta, brutalna przemoc, moralne dylematy antybohatera';
                    opisSelect.appendChild(opis1);

                    const opis2 = document.createElement('option');
                    opis2.value = 'Superbohater bez nadprzyrodzonych mocy, lucznictwo, tajemnicze watki';
                    opis2.textContent = 'Superbohater bez nadprzyrodzonych mocy, lucznictwo, tajemnicze watki';
                    opisSelect.appendChild(opis2);
                }
                else if (typ === 'Serial' && gatunek === 'SciFi' && premiera === 'Po') {
                    // Pokaż kontener i dodaj opcje
                    opisContainer.style.display = 'block';
                    opisSelect.innerHTML = '';

                    const opis1 = document.createElement('option');
                    opis1.value = 'Lata 80, dzieci kontra nadprzyrodzone sily, nostalgia za dawnymi czasami';
                    opis1.textContent = 'Lata 80, dzieci kontra nadprzyrodzone sily, nostalgia za dawnymi czasami';
                    opisSelect.appendChild(opis1);

                    const opis2 = document.createElement('option');
                    opis2.value = 'Przestrzen kosmiczna, polityczne intrygi, wojny miedzy planetami';
                    opis2.textContent = 'Przestrzen kosmiczna, polityczne intrygi, wojny miedzy planetami';
                    opisSelect.appendChild(opis2);
                }
                else if (typ === 'Serial' && gatunek === 'Fantasy' && premiera === 'Po') {
                    // Pokaż kontener i dodaj opcje
                    opisContainer.style.display = 'block';
                    opisSelect.innerHTML = '';

                    const opis1 = document.createElement('option');
                    opis1.value = 'Opowiesci o wiedzminie, potwory, magia, moralne wybory bohaterow';
                    opis1.textContent = 'Opowiesci o wiedzminie, potwory, magia, moralne wybory bohaterow';
                    opisSelect.appendChild(opis1);

                    const opis2 = document.createElement('option');
                    opis2.value = 'Rownolegle swiaty, mloda dziewczyna na misji, zwierzece daemony';
                    opis2.textContent = 'Rownolegle swiaty, mloda dziewczyna na misji, zwierzece daemony';
                    opisSelect.appendChild(opis2);
                }
                else {
                    // Ukryj kontener i wyczyść opcje
                    opisContainer.style.display = 'none';
                    opisSelect.innerHTML = '';
                }
            }

            // Aktualizacja przy każdej zmianie Typu, Gatunku lub Premiera
            typSelect.addEventListener('change', updatePremieraOptions);
            gatunekSelect.addEventListener('change', updatePremieraOptions);
            premieraSelect.addEventListener('change', updateOpisOptions);

            // Inicjalizacja przy ładowaniu strony
            updatePremieraOptions();
        });
    </script>
</body>

</html>